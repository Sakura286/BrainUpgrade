OpenSBI v0.6
   ____                    _____ ____ _____
  / __ \                  / ____|  _ \_   _|
 | |  | |_ __   ___ _ __ | (___ | |_) || |
 | |  | | '_ \ / _ \ '_ \ \___ \|  _ < | |
 | |__| | |_) |  __/ | | |____) | |_) || |_
  \____/| .__/ \___|_| |_|_____/|____/_____|
        | |
        |_|

Platform Name          : QEMU Virt Machine
Platform HART Features : RV64ACDFHIMSU
Platform Max HARTs     : 8
Current Hart           : 2
Firmware Base          : 0x80000000
Firmware Size          : 120 KB
Runtime SBI Version    : 0.2

MIDELEG : 0x0000000000001666
MEDELEG : 0x0000000000b0b509
PMP0    : 0x0000000080000000-0x000000008001ffff (A)
PMP1    : 0x0000000000000000-0xffffffffffffffff (A,R,W,X)
[    0.000000] OF: fdt: Ignoring memory range 0x80000000 - 0x80200000
[    0.000000] Linux version 5.5.19 (abuild@oe-RISCV-worker10-home) (gcc version 9.3.1 (GCC)) #1 SMP Fri Jan 15 09:08:08 UTC 2021
[    0.000000] earlycon: ns16550a0 at MMIO 0x0000000010000000 (options '')
[    0.000000] printk: bootconsole [ns16550a0] enabled
[    0.000000] initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   DMA32    [mem 0x0000000080200000-0x00000000ffffffff]
[    0.000000]   Normal   [mem 0x0000000100000000-0x000000017fffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x0000000080200000-0x000000017fffffff]
[    0.000000] Initmem setup node 0 [mem 0x0000000080200000-0x000000017fffffff]
[    0.000000] software IO TLB: mapped [mem 0xfbfff000-0xfffff000] (64MB)
[    0.000000] SBI specification v0.2 detected
[    0.000000] SBI implementation ID=0x1 Version=0x6
[    0.000000] SBI v0.2 TIME extension detected
[    0.000000] SBI v0.2 IPI extension detected
[    0.000000] SBI v0.2 RFENCE extension detected
[    0.000000] riscv: ISA extensions acdfhimsu
[    0.000000] riscv: ELF capabilities acdfim
[    0.000000] percpu: Embedded 17 pages/cpu s31512 r8192 d29928 u69632
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 1031688
[    0.000000] Kernel command line: root=/dev/vda1 rw console=ttyS0 systemd.default_timeout_start_sec=600 selinux=0 highres=off mem=4096M earlycon
[    0.000000] Dentry cache hash table entries: 524288 (order: 10, 4194304 bytes, linear)
[    0.000000] Inode-cache hash table entries: 262144 (order: 9, 2097152 bytes, linear)
[    0.000000] Sorting __ex_table...
[    0.000000] mem auto-init: stack:off, heap alloc:off, heap free:off
[    0.000000] Memory: 4042604K/4192256K available (8077K kernel code, 509K rwdata, 2498K rodata, 250K init, 369K bss, 149652K reserved, 0K cma-reserved)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=4, Nodes=1
[    0.000000] rcu: Hierarchical RCU implementation.
[    0.000000] rcu: 	RCU restricting CPUs from NR_CPUS=8 to nr_cpu_ids=4.
[    0.000000] rcu: RCU calculated value of scheduler-enlistment delay is 25 jiffies.
[    0.000000] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=4
[    0.000000] NR_IRQS: 0, nr_irqs: 0, preallocated irqs: 0
[    0.000000] plic: mapped 53 interrupts with 4 handlers for 8 contexts.
[    0.000000] riscv_timer_init_dt: Registering clocksource cpuid [0] hartid [2]
[    0.000000] clocksource: riscv_clocksource: mask: 0xffffffffffffffff max_cycles: 0x24e6a1710, max_idle_ns: 440795202120 ns
[    0.000433] sched_clock: 64 bits at 10MHz, resolution 100ns, wraps every 4398046511100ns
[    0.045725] Console: colour dummy device 80x25
[    0.056107] Calibrating delay loop (skipped), value calculated using timer frequency.. 20.00 BogoMIPS (lpj=40000)
[    0.067238] pid_max: default: 32768 minimum: 301
[    0.089552] Mount-cache hash table entries: 8192 (order: 4, 65536 bytes, linear)
[    0.095560] Mountpoint-cache hash table entries: 8192 (order: 4, 65536 bytes, linear)
[    0.302729] rcu: Hierarchical SRCU implementation.
[    0.340278] smp: Bringing up secondary CPUs ...
[    0.371678] smp: Brought up 1 node, 4 CPUs
[    0.409734] devtmpfs: initialized
[    0.435983] random: get_random_u32 called from bucket_table_alloc.isra.0+0x4e/0x154 with crng_init=0
[    0.445217] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns
[    0.448346] futex hash table entries: 1024 (order: 4, 65536 bytes, linear)
[    0.454314] xor: measuring software checksum speed
[    0.501179]    8regs     :  1733.000 MB/sec
[    0.550173]    8regs_prefetch:  1781.000 MB/sec
[    0.596980]    32regs    :  1762.000 MB/sec
[    0.643111]    32regs_prefetch:  1737.000 MB/sec
[    0.644329] xor: using function: 8regs_prefetch (1781.000 MB/sec)
[    0.676330] NET: Registered protocol family 16
[    0.763429] HugeTLB registered 2.00 MiB page size, pre-allocated 0 pages
[    0.960465] raid6: int64x8  gen()   372 MB/s
[    1.041999] raid6: int64x8  xor()   275 MB/s
[    1.119441] raid6: int64x4  gen()   235 MB/s
[    1.200013] raid6: int64x4  xor()   538 MB/s
[    1.280094] raid6: int64x2  gen()   900 MB/s
[    1.357435] raid6: int64x2  xor()   686 MB/s
[    1.435784] raid6: int64x1  gen()   769 MB/s
[    1.514852] raid6: int64x1  xor()   526 MB/s
[    1.515525] raid6: using algorithm int64x2 gen() 900 MB/s
[    1.515931] raid6: .... xor() 686 MB/s, rmw enabled
[    1.516301] raid6: using intx1 recovery algorithm
[    1.524524] vgaarb: loaded
[    1.528508] SCSI subsystem initialized
[    1.534982] usbcore: registered new interface driver usbfs
[    1.537325] usbcore: registered new interface driver hub
[    1.538351] usbcore: registered new device driver usb
[    1.590028] clocksource: Switched to clocksource riscv_clocksource
[    1.686363] NET: Registered protocol family 2
[    1.709437] tcp_listen_portaddr_hash hash table entries: 2048 (order: 3, 32768 bytes, linear)
[    1.710628] TCP established hash table entries: 32768 (order: 6, 262144 bytes, linear)
[    1.711881] TCP bind hash table entries: 32768 (order: 7, 524288 bytes, linear)
[    1.713693] TCP: Hash tables configured (established 32768 bind 32768)
[    1.717689] UDP hash table entries: 2048 (order: 4, 65536 bytes, linear)
[    1.718830] UDP-Lite hash table entries: 2048 (order: 4, 65536 bytes, linear)
[    1.743420] NET: Registered protocol family 1
[    1.751057] RPC: Registered named UNIX socket transport module.
[    1.752255] RPC: Registered udp transport module.
[    1.753240] RPC: Registered tcp transport module.
[    1.754102] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    1.755193] PCI: CLS 0 bytes, default 64
[    1.767842] kvm [1]: hypervisor extension available
[    1.768829] kvm [1]: host has 14 VMID bits
[    1.774911] workingset: timestamp_bits=46 max_order=20 bucket_order=0
[    1.824607] NFS: Registering the id_resolver key type
[    1.827115] Key type id_resolver registered
[    1.827544] Key type id_legacy registered
[    1.828468] nfs4filelayout_init: NFSv4 File Layout Driver Registering...
[    1.830523] 9p: Installing v9fs 9p2000 file system support
[    1.860467] NET: Registered protocol family 38
[    1.861957] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 253)
[    1.864289] io scheduler mq-deadline registered
[    1.865079] io scheduler kyber registered
[    1.873815] pci-host-generic 30000000.pci: host bridge /soc/pci@30000000 ranges:
[    1.875780] pci-host-generic 30000000.pci:       IO 0x0003000000..0x000300ffff -> 0x0000000000
[    1.877827] pci-host-generic 30000000.pci:      MEM 0x0040000000..0x007fffffff -> 0x0040000000
[    1.878479] pci-host-generic 30000000.pci:      MEM 0x0400000000..0x07ffffffff -> 0x0400000000
[    1.882058] pci-host-generic 30000000.pci: ECAM at [mem 0x30000000-0x3fffffff] for [bus 00-ff]
[    1.885288] pci-host-generic 30000000.pci: PCI host bridge to bus 0000:00
[    1.886967] pci_bus 0000:00: root bus resource [bus 00-ff]
[    1.887913] pci_bus 0000:00: root bus resource [io  0x0000-0xffff]
[    1.888933] pci_bus 0000:00: root bus resource [mem 0x40000000-0x7fffffff]
[    1.889357] pci_bus 0000:00: root bus resource [mem 0x400000000-0x7ffffffff]
[    1.891264] pci 0000:00:00.0: [1b36:0008] type 00 class 0x060000
[    2.285697] Serial: 8250/16550 driver, 4 ports, IRQ sharing disabled
[    2.302787] printk: console [ttyS0] disabled
[    2.306177] 10000000.uart: ttyS0 at MMIO 0x10000000 (irq = 10, base_baud = 230400) is a 16550A
[    2.310745] printk: console [ttyS0] enabled
[    2.310745] printk: console [ttyS0] enabled
[    2.312090] printk: bootconsole [ns16550a0] disabled
[    2.312090] printk: bootconsole [ns16550a0] disabled
[    2.345846] random: fast init done
[    2.346844] [drm] radeon kernel modesetting enabled.
[    2.353478] random: crng init done
[    2.424704] loop: module loaded
[    2.495201] virtio_blk virtio1: [vda] 20971520 512-byte logical blocks (10.7 GB/10.0 GiB)
[    2.556639]  vda: vda1
[    2.591808] libphy: Fixed MDIO Bus: probed
[    2.601431] e1000e: Intel(R) PRO/1000 Network Driver - 3.2.6-k
[    2.602440] e1000e: Copyright(c) 1999 - 2015 Intel Corporation.
[    2.605789] ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
[    2.608693] ehci-pci: EHCI PCI platform driver
[    2.610289] ehci-platform: EHCI generic platform driver
[    2.611311] ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
[    2.612661] ohci-pci: OHCI PCI platform driver
[    2.614294] ohci-platform: OHCI generic platform driver
[    2.616668] usbcore: registered new interface driver uas
[    2.618205] usbcore: registered new interface driver usb-storage
[    2.621955] mousedev: PS/2 mouse device common for all mice
[    2.629187] usbcore: registered new interface driver usbhid
[    2.629891] usbhid: USB HID core driver
[    2.671787] IPVS: Registered protocols (TCP, UDP)
[    2.673109] IPVS: Connection hash table configured (size=4096, memory=64Kbytes)
[    2.677263] IPVS: ipvs loaded.
[    2.683908] Initializing XFRM netlink socket
[    2.686867] NET: Registered protocol family 10
[    2.701102] Segment Routing with IPv6
[    2.705724] sit: IPv6, IPv4 and MPLS over IPv4 tunneling driver
[    2.711048] NET: Registered protocol family 17
[    2.713265] Bridge firewalling registered
[    2.715419] 9pnet: Installing 9P2000 support
[    2.716859] Key type dns_resolver registered
[    2.742831] Btrfs loaded, crc32c=crc32c-generic
[    3.647697] EXT4-fs (vda1): recovery complete
[    3.650244] EXT4-fs (vda1): mounted filesystem with ordered data mode. Opts: (null)
[    3.651443] VFS: Mounted root (ext4 filesystem) on device 254:1.
[    3.667623] devtmpfs: mounted
[    3.707124] Freeing unused kernel memory: 248K
[    3.707678] This architecture does not have kernel memory protection.
[    3.708699] Run /sbin/init as init process
[    5.098479] systemd[1]: System time before build time, advancing clock.
[    5.661301] systemd[1]: systemd v243-22.oe1 running in system mode. (+PAM +AUDIT +SELINUX +IMA -APPARMOR +SMACK +SYSVINIT +UTMP +LIBCRYPTSETUP +GCRYPT +GNUTLS +ACL +XZ +LZ4 +SECCOMP +BLKID +ELFUTILS +KMOD +IDN2 -IDN +PCRE2 default-hierarchy=legacy)
[    5.693398] systemd[1]: Detected architecture riscv64.

Welcome to openEuler 20.03 (LTS)!

[    6.143029] systemd[1]: Set hostname to <openEuler-RISCV-rare>.
[    7.773611] systemd-rc-local-generator[120]: /etc/rc.d/rc.local is not marked executable, skipping.
[    8.514144] systemd[1]: /usr/lib/systemd/system/auditd.service:13: PIDFile= references a path below legacy directory /var/run/, updating /var/run/auditd.pid → /run/auditd.pid; please update the unit file accordingly.
[    9.370916] systemd[1]: /usr/lib/systemd/system/dbus.socket:5: ListenStream= references a path below legacy directory /var/run/, updating /var/run/dbus/system_bus_socket → /run/dbus/system_bus_socket; please update the unit file accordingly.
[   10.194698] systemd[1]: system-getty.slice: unit configures an IP firewall, but the local system does not support BPF/cgroup firewalling.
[   10.197213] systemd[1]: (This warning is only shown for the first unit using IP firewalling.)
[   10.269870] systemd[1]: Created slice system-getty.slice.
[  OK  ] Created slice system-getty.slice.
[   10.293580] systemd[1]: Created slice system-serial\x2dgetty.slice.
[  OK  ] Created slice system-serial\x2dgetty.slice.
[   10.318993] systemd[1]: Created slice system-sshd\x2dkeygen.slice.
[  OK  ] Created slice system-sshd\x2dkeygen.slice.
[  OK  ] Created slice User and Session Slice.
[  OK  ] Started Dispatch Password …ts to Console Directory Watch.
[  OK  ] Started Forward Password R…uests to Wall Directory Watch.
[  OK  ] Reached target Local Encrypted Volumes.
[  OK  ] Reached target Paths.
[  OK  ] Reached target Remote File Systems.
[  OK  ] Reached target Slices.
[  OK  ] Reached target Swap.
[   10.829725] systemd[1]: Listening on Process Core Dump Socket.
[  OK  ] Listening on Process Core Dump Socket.
[   10.840772] systemd[1]: Listening on initctl Compatibility Named Pipe.
[  OK  ] Listening on initctl Compatibility Named Pipe.
[   11.091252] systemd[1]: Condition check resulted in Journal Audit Socket being skipped.
[   11.101137] systemd[1]: Listening on Journal Socket (/dev/log).
[  OK  ] Listening on Journal Socket (/dev/log).
[   11.118235] systemd[1]: Listening on Journal Socket.
[  OK  ] Listening on Journal Socket.
[   11.135182] systemd[1]: Listening on Network Service Netlink Socket.
[  OK  ] Listening on Network Service Netlink Socket.
[   11.146303] systemd[1]: Listening on udev Control Socket.
[  OK  ] Listening on udev Control Socket.
[   11.160781] systemd[1]: Listening on udev Kernel Socket.
[  OK  ] Listening on udev Kernel Socket.
[   11.236074] systemd[1]: Mounting Huge Pages File System...
         Mounting Huge Pages File System...
[   11.291771] systemd[1]: Mounting POSIX Message Queue File System...
         Mounting POSIX Message Queue File System...
         Mounting Kernel Debug File System...
         Mounting Temporary Directory (/tmp)...
         Starting Journal Service...
         Starting Remount Root and Kernel File Systems...
         Starting Apply Kernel Variables...
         Starting udev Coldplug all Devices...
[  OK  ] Mounted Huge Pages File System.
[  OK  ] Mounted POSIX Message Queue File System.
[  OK  ] Mounted Kernel Debug File System.
[  OK  ] Mounted Temporary Directory (/tmp).
[  OK  ] Started Remount Root and Kernel File Systems.
[  OK  ] Started Apply Kernel Variables.
         Starting Load/Save Random Seed...
         Starting Create Static Device Nodes in /dev...
[  OK  ] Started Load/Save Random Seed.
[  OK  ] Started Journal Service.
         Starting Flush Journal to Persistent Storage...
[  OK  ] Started Create Static Device Nodes in /dev.
[  OK  ] Reached target Local File Systems (Pre).
[  OK  ] Reached target Local File Systems.
         Starting udev Kernel Device Manager...
[   14.102784] systemd-journald[130]: Received client request to flush runtime journal.
[   14.117727] systemd-journald[130]: File /var/log/journal/5752e0903cf6471ba6b18338c39992db/system.journal corrupted or uncleanly shut down, renaming and replacing.
[  OK  ] Started udev Kernel Device Manager.
         Starting Network Service...
[  OK  ] Started Flush Journal to Persistent Storage.
         Starting Create Volatile Files and Directories...
[  OK  ] Started Network Service.
[  OK  ] Started Create Volatile Files and Directories.
         Starting Update UTMP about System Boot/Shutdown...
[  OK  ] Started Update UTMP about System Boot/Shutdown.
[  OK  ] Started udev Coldplug all Devices.
[  OK  ] Reached target System Initialization.
[  OK  ] Started dnf makecache --timer.
[  OK  ] Started Daily Cleanup of Temporary Directories.
[  OK  ] Reached target Timers.
[  OK  ] Listening on D-Bus System Message Bus Socket.
[  OK  ] Reached target Sockets.
[  OK  ] Reached target Basic System.
[  OK  ] Started D-Bus System Message Bus.
         Starting Network Manager...
         Starting Update RTC With System Clock...
         Starting Network Time Service...
[  OK  ] Reached target sshd-keygen.target.
         Starting Login Service...
[  OK  ] Started Update RTC With System Clock.
[  OK  ] Started Network Time Service.
[  OK  ] Found device /dev/ttyS0.
[  OK  ] Found device /dev/hvc0.

# Takes too much time, about 10 minutes.
# Text1: [  ] (1 of 2) A start job is running for...in Service (MMmin SSs / 10min 19s)
# Text2: [  ] (2 of 2) A start job is running for...in Service (MMmin SSs / 10min 19s)

# [ 2876.018462] systemd-journald[130]: File /var/log/journal/5752e0903cf6471ba6b18338c39992db/user-1000.journal corrupted or uncleanly shut down, renaming and replacing.
# 其实正常关机之后就不会卡这一步了

# ↓↓↓↓↓

[  OK  ] Started Login Service.
[  OK  ] Started Network Manager.

# ↑↑↑↑↑

[  OK  ] Reached target Network.
         Starting Network Manager Wait Online...
         Starting OpenSSH server daemon...
         Starting Permit User Sessions...
[  OK  ] Started Permit User Sessions.
[  OK  ] Started Getty on tty1.
[  OK  ] Started Serial Getty on hvc0.
[  OK  ] Started Serial Getty on ttyS0.
[  OK  ] Reached target Login Prompts.
[  OK  ] Started OpenSSH server daemon.
[  OK  ] Reached target Multi-User System.
[  OK  ] Reached target Graphical Interface.
         Starting Update UTMP about System Runlevel Changes...
[  OK  ] Started Update UTMP about System Runlevel Changes.
[  OK  ] Started Network Manager Wait Online.
[  OK  ] Reached target Network is Online.
         Starting dnf makecache...
